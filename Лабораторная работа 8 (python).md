**Лабораторная работа: Основы тестирования в Python с использованием pytest**  
**Цель:** Научиться писать модульные тесты для функций на Python с использованием фреймворка pytest.

---

### **1. Введение**  
Тестирование — это процесс проверки корректности работы программного кода. Модульные тесты (unit tests) проверяют отдельные компоненты программы (например, функции).  
**Pytest** — популярный фреймворк для написания тестов в Python. Он упрощает создание и запуск тестов.

---
## ** Важно: ** лабораторная выполняется в vs code или в pycharm
---

### **2. Установка pytest**  
1. Установите pytest через терминал:  
   ```bash
   pip install pytest
   ```

---

### **3. Создание тестируемой функции**  
Создайте файл `calculator.py` и напишите функцию калькулятора:  
```python
def calculate(a, b, operation):
    if operation == '+':
        return a + b
    elif operation == '-':
        return a - b
    elif operation == '*':
        return a * b
    elif operation == '/':
        if b == 0:
            raise ValueError("Нельзя делить на ноль!")
        return a / b
    else:
        raise ValueError("Недопустимая операция. Допустимые операции: +, -, *, /")
```

---

### **4. Написание тестов**  
Создайте файл `test_calculator.py`. Тесты должны проверять:  
- Корректность математических операций.  
- Обработку ошибок (деление на ноль, недопустимая операция).  

**Пример тестов:**  
```python
import pytest
from calculator import calculate

# Позитивные тесты
def test_add():
    assert calculate(5, 3, '+') == 8

def test_subtract():
    assert calculate(10, 4, '-') == 6

def test_multiply():
    assert calculate(3, 7, '*') == 21

def test_divide():
    assert calculate(20, 5, '/') == 4

# Негативные тесты
def test_divide_by_zero():
    with pytest.raises(ValueError, match="Нельзя делить на ноль!"):
        calculate(10, 0, '/')

def test_invalid_operation():
    with pytest.raises(ValueError, match="Недопустимая операция"):
        calculate(5, 3, 'invalid')
```

---

### **5. Запуск тестов**  
В терминале выполните:  
```bash
pytest test_calculator.py -v
```  
- `-v` (verbose) выводит подробный результат.  
**Ожидаемый вывод:** Все тесты должны пройти успешно (6 passed).

---

### **6. Задания для самостоятельной работы**  
1. Добавьте операцию возведения в степень (`^`) в функцию `calculate` и напишите для нее тест.  
2. Напишите тест для проверки передачи нечисловых аргументов (например, строк) и обработайте эту ошибку в функции.  
3. Проверьте, что функция корректно работает с отрицательными числами.

---

### **7. Вопросы для закрепления**  
1. Зачем нужно тестирование?  
2. Чем отличается позитивный тест от негативного?  
3. Как pytest находит тестовые функции?  
4. Что делает конструкция `with pytest.raises(...)`?

---

### **8. Подсказки**  
- Имена тестовых функций должны начинаться с `test_`.  
- Используйте `assert` для проверки условий.  
- Для тестирования исключений используйте `pytest.raises()`.

---

**Критерии оценки:**  
- Все тесты из раздела 4 работают.  
- Выполнены задания для самостоятельной работы.  
- Ответы на вопросы оформлены в отдельном файле.
