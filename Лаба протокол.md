### Протокол автоматического юнит-тестирования  
Этот протокол используется для документирования процесса автоматического тестирования отдельных модулей или компонентов системы (юнит-тестов). Он включает технические детали, код тестов, результаты выполнения и анализ покрытия кода.

---

#### **Структура протокола**  
1. **Заголовок**  
   - Название модуля/функции.  
   - Версия кода (например, Git commit hash).  
   - Дата выполнения тестов.  
   - Инструменты тестирования (JUnit, pytest, Mocha и т.д.).  

2. **Цель тестирования**  
   - Проверка корректности работы конкретной функции или метода.  
   - Пример:  
     - "Проверить метод `calculateSum(array)` на обработку пустого массива, чисел и некорректных данных".  

3. **Тестовое окружение**  
   - Язык программирования и версия (Python 3.11, Java 17).  
   - Фреймворки и библиотеки (pytest, Mockito, Jest).  
   - Зависимости (например, `numpy==1.24.0`).  

4. **Описание тест-кейсов**  
   - Список тестовых сценариев с параметрами:  
     - **Входные данные** (например, `array = [1, 2, 3]`).  
     - **Ожидаемый результат** (например, возврат `6`).  
     - **Описание** (например, "Проверка суммы положительных чисел").  

5. **Код тестов**  
   - Пример фрагмента кода для автоматического теста (зависит от языка и фреймворка):  
     ```python  
     # pytest пример  
     def test_calculate_sum():  
         assert calculate_sum([1, 2, 3]) == 6  
         assert calculate_sum([]) == 0  
         assert calculate_sum([-5, 10]) == 5  
     ```  

6. **Результаты выполнения**  
   - Таблица с результатами:  
     | Тест-кейс | Статус (Pass/Fail) | Ошибка (если есть) |  
     |-----------|--------------------|---------------------|  
     | test_calculate_sum_positive_numbers | Pass | — |  
     | test_calculate_sum_empty_array | Pass | — |  
     | test_calculate_sum_negative_numbers | Fail | Expected 5, got 4 |  

7. **Покрытие кода (Code Coverage)**  
   - Процент покрытия тестами (например, 95%).  
   - Непокрытые участки кода (если есть).  

8. **Логи и артефакты**  
   - Ссылка на логи выполнения (например, файл `test_results.log`).  
   - Отчет о покрытии (например, HTML-отчет от `coverage.py`).  

9. **Выводы**  
   - Общая оценка стабильности модуля.  
   - Рекомендации по исправлению дефектов.  
   - Задачи для улучшения покрытия (если требуется).  

---

### **Пример протокола**  

**Модуль:** `math_utils.py` (функция `calculate_sum`)  
**Версия кода:** `a1b2c3d`  
**Дата:** 20.10.2023  
**Инструменты:** pytest, coverage.py  

**Цель:** Проверить корректность вычисления суммы элементов массива.  

**Окружение:**  
- Python 3.11.  
- Зависимости: `pytest==7.4.0`, `coverage==7.3.2`.  

**Тест-кейсы:**  
1. **Вход:** `[1, 2, 3]` → **Ожидается:** `6`.  
2. **Вход:** `[]` → **Ожидается:** `0`.  
3. **Вход:** `[-5, 10]` → **Ожидается:** `5`.  

**Код тестов:**  
```python  
import pytest  
from math_utils import calculate_sum  

def test_positive_numbers():  
    assert calculate_sum([1, 2, 3]) == 6  

def test_empty_array():  
    assert calculate_sum([]) == 0  

def test_negative_numbers():  
    assert calculate_sum([-5, 10]) == 5  
```  

**Результаты:**  
| Тест-кейс             | Статус | Ошибка                |  
|-----------------------|--------|-----------------------|  
| test_positive_numbers | Pass   | —                     |  
| test_empty_array      | Pass   | —                     |  
| test_negative_numbers | Fail   | Expected 5, got 4     |  

**Покрытие кода:**  
- Общее покрытие: **90%**.  
- Непокрытая строка: `line 12` (обработка ошибок).  

**Логи:**  
- Отчет coverage: `htmlcov/index.html`.  
- Логи тестов: `tests/test_math_utils.log`.  

**Выводы:**  
- Функция работает корректно для положительных чисел и пустого массива.  
- **Дефект:** Неверный расчет суммы при отрицательных числах (баг заведен в Jira: ISSUE-123).  
- Рекомендация: Добавить тесты для обработки ошибок (например, передача `None`).  

---

## Задание:
По предыдущей лабораторной написать протокол тестирования.
